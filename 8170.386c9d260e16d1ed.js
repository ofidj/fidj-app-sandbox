"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8170],{8170:(j,a,o)=>{o.r(a),o.d(a,{AppsPageModule:()=>T});var t=o(4556),c=o(1407),d=o(6895),u=o(433),h=o(7582),f=o(5860),e=o(8256),m=o(9251);function A(i,r){if(1&i&&(e.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-label"),e._uU(3),e.qZA(),e.TgZ(4,"a",9),e._UZ(5,"img",10),e.qZA()()()),2&i){const n=r.$implicit;e.xp6(3),e.AsE("",n.title," - ",n.description,""),e.xp6(1),e.s9C("href",n.pub,e.LSH),e.xp6(1),e.s9C("src",n.badge,e.LSH)}}function v(i,r){if(1&i&&(e.TgZ(0,"ion-list"),e.YNc(1,A,6,4,"ion-item-sliding",8),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.profileAppsOwned)}}let g=(()=>{class i{constructor(n,l,s){this.router=n,this.fidjService=l,this.fidjConnectionService=s,this.refresh(null)}refresh(n){return(0,h.mG)(this,void 0,void 0,function*(){let l={iss:""};try{const p=(yield this.fidjService.getIdToken()).split(".")[1];l=JSON.parse(f.DS.decode(p)),this.fidjConnectionService.setUrl(l.iss)}catch(s){return n&&n.target.complete(),yield this.fidjConnectionService.checkError(s)}this.profileAppsOwned=[];try{this.me=yield this.fidjService.sendOnEndpoint({verb:"GET",key:"me",relativePath:"details"});for(let s=0;s<this.me.user.appsOwned.length;s++){const p=(yield this.fidjService.sendOnEndpoint({verb:"GET",key:"apps",relativePath:this.me.user.appsOwned[s]})).app;p.badge=this.fidjConnectionService.getUrl()+`/apps/${p.id}/badge`,p.pub=`#/pub/${p.id}`,this.profileAppsOwned.push(p)}}catch(s){yield this.fidjConnectionService.checkError(s)}n&&n.target.complete()})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(c.F0),e.Y36(f.DR),e.Y36(m.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-apps"]],decls:16,vars:3,consts:[[3,"translucent"],["src","assets/fidj-logo.png","height","15em"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],["size-md","8","offset-md","2","size-sm","12"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"href"],[3,"src"]],template:function(n,l){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._UZ(3,"img",1),e._uU(4," Apps "),e.qZA()()(),e.TgZ(5,"ion-content",2)(6,"ion-refresher",3),e.NdJ("ionRefresh",function(p){return l.refresh(p)}),e._UZ(7,"ion-refresher-content"),e.qZA(),e.TgZ(8,"ion-header",4)(9,"ion-toolbar")(10,"ion-title",5),e._uU(11,"Apps"),e.qZA()()(),e.TgZ(12,"ion-grid")(13,"ion-row")(14,"ion-col",6),e.YNc(15,v,2,1,"ion-list",7),e.qZA()()()()),2&n&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngIf",l.profileAppsOwned))},dependencies:[t.wI,t.W2,t.jY,t.Gu,t.Ie,t.td,t.Q$,t.q_,t.nJ,t.Wo,t.Nd,t.wd,t.sr,d.sg,d.O5]}),i})();var y=o(581);const P=[{path:"",component:g}];let Z=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(P),c.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[t.Pc,d.ez,u.u5,y.e,c.Bz.forChild([{path:"",component:g}]),Z]}),i})()}}]);